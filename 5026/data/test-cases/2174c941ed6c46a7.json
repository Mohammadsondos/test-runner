{"uid":"2174c941ed6c46a7","name":"test_can_create_connection[Test for Zeitgeist, url: wss://zeitgeist.api.onfinality.io/public-ws]","fullName":"tests.test_nodes_availability#test_can_create_connection","historyId":"4e4bafe18ecd3560f8865fceae8e0c9e","time":{"start":1712563385006,"stop":1712563385006,"duration":0},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"connection_by_url","time":{"start":1712563369996,"stop":1712563370716,"duration":720},"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 08 Apr 2024 08:02:50 GMT', 'content-type': 'text/plain; charset=utf-8', 'connection': 'keep-alive', 'content-length': '58', 'x-continent': 'NA', 'x-cluster': 'dc', 'x-kong-upstream-latency': '90', 'x-kong-proxy-latency': '328', 'via': 'kong/2.5.2'} -+-+- b'An invalid response was received from the upstream server\\n'\n","statusTrace":"  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 40, in connection_by_url\n    connection = execute_with_timeout(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 29, in execute_with_timeout\n    return func_timeout(timeout=timeout, func=function, args=args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/dafunc.py\", line 108, in func_timeout\n    raise_exception(exception)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/py3_raise.py\", line 7, in raise_exception\n    raise exception[0] from None\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/substrate_interface.py\", line 30, in create_connection_by_url\n    substrate = SubstrateInterface(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/substrateinterface/base.py\", line 132, in __init__\n    self.connect_websocket()\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/substrateinterface/base.py\", line 177, in connect_websocket\n    self.websocket = create_connection(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_core.py\", line 646, in create_connection\n    websock.connect(url, **options)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_core.py\", line 261, in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_handshake.py\", line 65, in handshake\n    status, resp = _get_resp_headers(sock)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_handshake.py\", line 150, in _get_resp_headers\n    raise WebSocketBadStatusException(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"connection_by_url","time":{"start":1712563375777,"stop":1712563375973,"duration":196},"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 503 Service Temporarily Unavailable -+-+- {'date': 'Mon, 08 Apr 2024 08:02:55 GMT', 'content-type': 'application/json; charset=utf-8', 'connection': 'keep-alive', 'content-length': '58', 'x-continent': 'NA', 'x-cluster': 'dc', 'x-kong-response-latency': '3', 'server': 'kong/2.5.2'} -+-+- b'{\"message\":\"failure to get a peer from the ring-balancer\"}'\n","statusTrace":"  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 40, in connection_by_url\n    connection = execute_with_timeout(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 29, in execute_with_timeout\n    return func_timeout(timeout=timeout, func=function, args=args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/dafunc.py\", line 108, in func_timeout\n    raise_exception(exception)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/py3_raise.py\", line 7, in raise_exception\n    raise exception[0] from None\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/substrate_interface.py\", line 30, in create_connection_by_url\n    substrate = SubstrateInterface(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/substrateinterface/base.py\", line 132, in __init__\n    self.connect_websocket()\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/substrateinterface/base.py\", line 177, in connect_websocket\n    self.websocket = create_connection(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_core.py\", line 646, in create_connection\n    websock.connect(url, **options)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_core.py\", line 261, in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_handshake.py\", line 65, in handshake\n    status, resp = _get_resp_headers(sock)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/websocket/_handshake.py\", line 150, in _get_resp_headers\n    raise WebSocketBadStatusException(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"connection_by_url","time":{"start":1712563381035,"stop":1712563385005,"duration":3970},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"aeb80f0f3f698494","name":"stdout","source":"aeb80f0f3f698494.txt","type":"text/plain","size":928}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_nodes_availability"},{"name":"host","value":"fv-az738-60"},{"name":"thread","value":"2066-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_nodes_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"connection_by_url","value":"{'url': 'wss://zeitgeist.api.onfinality.io/public-ws', 'name': 'Zeitgeist'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"15a9045ad6976c1b","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 503 Service Temporarily Unavailable -+-+- {'date': 'Mon, 08 Apr 2024 08:02:55 GMT', 'content-type': 'application/json; charset=utf-8', 'connection': 'keep-alive', 'content-length': '58', 'x-continent': 'NA', 'x-cluster': 'dc', 'x-kong-response-latency': '3', 'server': 'kong/2.5.2'} -+-+- b'{\"message\":\"failure to get a peer from the ring-balancer\"}'","time":{"start":1712563375777,"stop":1712563375777,"duration":0}},{"uid":"253b3585ab0ecead","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 08 Apr 2024 08:02:50 GMT', 'content-type': 'text/plain; charset=utf-8', 'connection': 'keep-alive', 'content-length': '58', 'x-continent': 'NA', 'x-cluster': 'dc', 'x-kong-upstream-latency': '90', 'x-kong-proxy-latency': '328', 'via': 'kong/2.5.2'} -+-+- b'An invalid response was received from the upstream server\\n'","time":{"start":1712563369995,"stop":1712563369995,"duration":0}}],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":1098,"unknown":0,"total":1101},"items":[{"uid":"1f08742fbdf6a468","reportUrl":"https://novasamatech.github.io/test-runner/5025//#testresult/1f08742fbdf6a468","status":"passed","time":{"start":1712548915572,"stop":1712548915572,"duration":0}},{"uid":"c1ccc930c0f30baf","reportUrl":"https://novasamatech.github.io/test-runner/5024//#testresult/c1ccc930c0f30baf","status":"passed","time":{"start":1712534562816,"stop":1712534562816,"duration":0}},{"uid":"6a62d844e4851a7d","reportUrl":"https://novasamatech.github.io/test-runner/5023//#testresult/6a62d844e4851a7d","status":"passed","time":{"start":1712520123111,"stop":1712520123111,"duration":0}},{"uid":"807c6cd73cd5f735","reportUrl":"https://novasamatech.github.io/test-runner/5022//#testresult/807c6cd73cd5f735","status":"passed","time":{"start":1712505768739,"stop":1712505768739,"duration":0}},{"uid":"f714afd8a588045f","reportUrl":"https://novasamatech.github.io/test-runner/5021//#testresult/f714afd8a588045f","status":"passed","time":{"start":1712491316752,"stop":1712491316753,"duration":1}},{"uid":"4f02ccbd669e4e6c","reportUrl":"https://novasamatech.github.io/test-runner/5020//#testresult/4f02ccbd669e4e6c","status":"passed","time":{"start":1712476916688,"stop":1712476916688,"duration":0}},{"uid":"f6eabf74d42aa69e","reportUrl":"https://novasamatech.github.io/test-runner/5019//#testresult/f6eabf74d42aa69e","status":"passed","time":{"start":1712462531066,"stop":1712462531067,"duration":1}},{"uid":"68abbfd2efa0d039","reportUrl":"https://novasamatech.github.io/test-runner/5018//#testresult/68abbfd2efa0d039","status":"passed","time":{"start":1712448203221,"stop":1712448203221,"duration":0}},{"uid":"434596107550bd15","reportUrl":"https://novasamatech.github.io/test-runner/5017//#testresult/434596107550bd15","status":"passed","time":{"start":1712433712061,"stop":1712433712061,"duration":0}},{"uid":"6154837a54302fab","reportUrl":"https://novasamatech.github.io/test-runner/5016//#testresult/6154837a54302fab","status":"passed","time":{"start":1712419361385,"stop":1712419361386,"duration":1}},{"uid":"17dac98245523f47","reportUrl":"https://novasamatech.github.io/test-runner/5015//#testresult/17dac98245523f47","status":"passed","time":{"start":1712404939025,"stop":1712404939025,"duration":0}},{"uid":"1bf310eb5fd10e05","reportUrl":"https://novasamatech.github.io/test-runner/5014//#testresult/1bf310eb5fd10e05","status":"passed","time":{"start":1712390528609,"stop":1712390528609,"duration":0}},{"uid":"46d047ddb60dcd5a","reportUrl":"https://novasamatech.github.io/test-runner/5013//#testresult/46d047ddb60dcd5a","status":"passed","time":{"start":1712376117929,"stop":1712376117929,"duration":0}},{"uid":"7f04f5411f95159c","reportUrl":"https://novasamatech.github.io/test-runner/5012//#testresult/7f04f5411f95159c","status":"passed","time":{"start":1712361773328,"stop":1712361773328,"duration":0}},{"uid":"562f4385f40700d8","reportUrl":"https://novasamatech.github.io/test-runner/5011//#testresult/562f4385f40700d8","status":"passed","time":{"start":1712347325780,"stop":1712347325780,"duration":0}},{"uid":"41b1b272181006c5","reportUrl":"https://novasamatech.github.io/test-runner/5010//#testresult/41b1b272181006c5","status":"passed","time":{"start":1712332920866,"stop":1712332920866,"duration":0}},{"uid":"adca10f2fc5485b7","reportUrl":"https://novasamatech.github.io/test-runner/5009//#testresult/adca10f2fc5485b7","status":"passed","time":{"start":1712318533966,"stop":1712318533966,"duration":0}},{"uid":"5eecf9b8162caf0e","reportUrl":"https://novasamatech.github.io/test-runner/5007//#testresult/5eecf9b8162caf0e","status":"passed","time":{"start":1712289721306,"stop":1712289721306,"duration":0}},{"uid":"5966796695332a3d","reportUrl":"https://novasamatech.github.io/test-runner/5006//#testresult/5966796695332a3d","status":"passed","time":{"start":1712275363431,"stop":1712275363431,"duration":0}},{"uid":"afb0d1813c336bda","reportUrl":"https://novasamatech.github.io/test-runner/5005//#testresult/afb0d1813c336bda","status":"passed","time":{"start":1712260938960,"stop":1712260938960,"duration":0}}]},"tags":[]},"source":"2174c941ed6c46a7.json","parameterValues":["{'url': 'wss://zeitgeist.api.onfinality.io/public-ws', 'name': 'Zeitgeist'}"]}
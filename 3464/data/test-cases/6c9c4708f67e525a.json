{"uid":"6c9c4708f67e525a","name":"test_can_create_connection[Test for Subsocial, url: wss://para.f3joule.space]","fullName":"tests.test_nodes_availability#test_can_create_connection","historyId":"708fef24ef6e8bbe59707ee70782ff2a","time":{"start":1690459519006,"stop":1690459519430,"duration":424},"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:05:19 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=g4UYw1%2Fe620ZsKpJKZ6Vdht8CiN1D2j2w5kZ8OvD79mDlrOFpMgmUQDhXGoT64YcJ3yvdtLLBZ9pF6q%2FBD7Fr5sJsjDMTFLwYWISOMTKvjzgVZrhDgKgJMLr6tZ1jHK%2FNjnCeJw%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bffa0c1f2c9e-DFW'} -+-+- b''","statusTrace":"data = {'name': 'Subsocial', 'url': 'wss://para.f3joule.space'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(get_substrate_chains()), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses: tuple = SUCCESS_STATUSES) -> tuple:\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n            content_len = resp_headers.get('content-length')\n            if content_len:\n                response_body = sock.recv(int(content_len))  # read the body of the HTTP error message response and include it in the exception\n            else:\n                response_body = None\n>           raise WebSocketBadStatusException(\"Handshake status {status} {message} -+-+- {headers} -+-+- {body}\".format(status=status, message=status_message, headers=resp_headers, body=response_body), status, status_message, resp_headers, response_body)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:05:19 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=g4UYw1%2Fe620ZsKpJKZ6Vdht8CiN1D2j2w5kZ8OvD79mDlrOFpMgmUQDhXGoT64YcJ3yvdtLLBZ9pF6q%2FBD7Fr5sJsjDMTFLwYWISOMTKvjzgVZrhDgKgJMLr6tZ1jHK%2FNjnCeJw%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bffa0c1f2c9e-DFW'} -+-+- b''\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:150: WebSocketBadStatusException","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:05:19 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=g4UYw1%2Fe620ZsKpJKZ6Vdht8CiN1D2j2w5kZ8OvD79mDlrOFpMgmUQDhXGoT64YcJ3yvdtLLBZ9pF6q%2FBD7Fr5sJsjDMTFLwYWISOMTKvjzgVZrhDgKgJMLr6tZ1jHK%2FNjnCeJw%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bffa0c1f2c9e-DFW'} -+-+- b''","statusTrace":"data = {'name': 'Subsocial', 'url': 'wss://para.f3joule.space'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(get_substrate_chains()), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses: tuple = SUCCESS_STATUSES) -> tuple:\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n            content_len = resp_headers.get('content-length')\n            if content_len:\n                response_body = sock.recv(int(content_len))  # read the body of the HTTP error message response and include it in the exception\n            else:\n                response_body = None\n>           raise WebSocketBadStatusException(\"Handshake status {status} {message} -+-+- {headers} -+-+- {body}\".format(status=status, message=status_message, headers=resp_headers, body=response_body), status, status_message, resp_headers, response_body)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:05:19 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=g4UYw1%2Fe620ZsKpJKZ6Vdht8CiN1D2j2w5kZ8OvD79mDlrOFpMgmUQDhXGoT64YcJ3yvdtLLBZ9pF6q%2FBD7Fr5sJsjDMTFLwYWISOMTKvjzgVZrhDgKgJMLr6tZ1jHK%2FNjnCeJw%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bffa0c1f2c9e-DFW'} -+-+- b''\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:150: WebSocketBadStatusException","steps":[],"attachments":[{"uid":"9c8e39cef9cf5660","name":"stdout","source":"9c8e39cef9cf5660.txt","type":"text/plain","size":2044}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_nodes_availability"},{"name":"host","value":"fv-az402-552"},{"name":"thread","value":"1988-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_nodes_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'url': 'wss://para.f3joule.space', 'name': 'Subsocial'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"59214b04cd370b5d","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:05:03 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=kDvaMRTForH3z57K97zZmBegrf33BzdOV9OgtuxB4beIhm%2FuJIFmkkv1ofGBl25GrO70mvIqHsqGte5KvyzzAagvsWRCeXQlU%2FrFUPrFZ5PgKixQ%2FiPDc35ykqew3nhG29lMijw%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bf98cef12c9e-DFW'} -+-+- b''","time":{"start":1690459503449,"stop":1690459503898,"duration":449}},{"uid":"55d65b57d1147042","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Thu, 27 Jul 2023 12:04:48 GMT', 'content-length': '0', 'connection': 'keep-alive', 'alt-svc': 'h3=\":443\"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=okSDuzw9CVLJpl4kiu2IKdkd99RU1%2FgBRI8DgDl26tOPTDAvBbjtrnUTLePbfr7126R1iUp2bcTeN6hpU5vE9PZpNC%2Bz7CAo78AoYXVIdlmCRFv0%2FOZ%2BN8%2BDXDkMXm57dYobmA0%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7ed4bf377e862c9e-DFW'} -+-+- b''","time":{"start":1690459487825,"stop":1690459488291,"duration":466}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":468,"unknown":0,"total":469},"items":[{"uid":"aa6561387c4f70c5","reportUrl":"https://novasamatech.github.io/test-runner/3463//#testresult/aa6561387c4f70c5","status":"passed","time":{"start":1690445066206,"stop":1690445066872,"duration":666}},{"uid":"c37647866a9c4061","reportUrl":"https://novasamatech.github.io/test-runner/3461//#testresult/c37647866a9c4061","status":"passed","time":{"start":1690416795638,"stop":1690416796080,"duration":442}},{"uid":"daa70ee52c8405c6","reportUrl":"https://novasamatech.github.io/test-runner/3462//#testresult/daa70ee52c8405c6","status":"passed","time":{"start":1690430656393,"stop":1690430657086,"duration":693}},{"uid":"8ee48149a343d8ce","reportUrl":"https://novasamatech.github.io/test-runner/3460//#testresult/8ee48149a343d8ce","status":"passed","time":{"start":1690401829866,"stop":1690401830310,"duration":444}},{"uid":"c3db67e5636db44d","reportUrl":"https://novasamatech.github.io/test-runner/3459//#testresult/c3db67e5636db44d","status":"passed","time":{"start":1690387478547,"stop":1690387479228,"duration":681}},{"uid":"288c04ec24355f31","reportUrl":"https://novasamatech.github.io/test-runner/3458//#testresult/288c04ec24355f31","status":"passed","time":{"start":1690373108551,"stop":1690373109260,"duration":709}},{"uid":"64504a82880594c3","reportUrl":"https://novasamatech.github.io/test-runner/3457//#testresult/64504a82880594c3","status":"passed","time":{"start":1690358696610,"stop":1690358697041,"duration":431}},{"uid":"6a08a95a62253861","reportUrl":"https://novasamatech.github.io/test-runner/3456//#testresult/6a08a95a62253861","status":"passed","time":{"start":1690344244567,"stop":1690344245072,"duration":505}},{"uid":"30463a2a6a41f899","reportUrl":"https://novasamatech.github.io/test-runner/3455//#testresult/30463a2a6a41f899","status":"passed","time":{"start":1690330454291,"stop":1690330454916,"duration":625}},{"uid":"89e79aaac35adfbe","reportUrl":"https://novasamatech.github.io/test-runner/3454//#testresult/89e79aaac35adfbe","status":"passed","time":{"start":1690315470731,"stop":1690315471422,"duration":691}},{"uid":"49b485a5ec6ac85a","reportUrl":"https://novasamatech.github.io/test-runner/3453//#testresult/49b485a5ec6ac85a","status":"passed","time":{"start":1690301068251,"stop":1690301068694,"duration":443}},{"uid":"29cc1e96761a622c","reportUrl":"https://novasamatech.github.io/test-runner/3452//#testresult/29cc1e96761a622c","status":"passed","time":{"start":1690286716865,"stop":1690286717289,"duration":424}},{"uid":"c38257e65408633f","reportUrl":"https://novasamatech.github.io/test-runner/3451//#testresult/c38257e65408633f","status":"passed","time":{"start":1690272272272,"stop":1690272272973,"duration":701}},{"uid":"62c7dc9bd438d958","reportUrl":"https://novasamatech.github.io/test-runner/3450//#testresult/62c7dc9bd438d958","status":"passed","time":{"start":1690257862592,"stop":1690257863053,"duration":461}},{"uid":"1fece0137b7ec677","reportUrl":"https://novasamatech.github.io/test-runner/3449//#testresult/1fece0137b7ec677","status":"passed","time":{"start":1690244092190,"stop":1690244092628,"duration":438}},{"uid":"f3079d5604bf5d88","reportUrl":"https://novasamatech.github.io/test-runner/3448//#testresult/f3079d5604bf5d88","status":"passed","time":{"start":1690229045600,"stop":1690229046270,"duration":670}},{"uid":"dca0c51e682cce8e","reportUrl":"https://novasamatech.github.io/test-runner/3447//#testresult/dca0c51e682cce8e","status":"passed","time":{"start":1690214659263,"stop":1690214660091,"duration":828}},{"uid":"ac794cafbaad1ee7","reportUrl":"https://novasamatech.github.io/test-runner/3446//#testresult/ac794cafbaad1ee7","status":"passed","time":{"start":1690200316278,"stop":1690200316732,"duration":454}},{"uid":"bc84c9f438ba551b","reportUrl":"https://novasamatech.github.io/test-runner/3445//#testresult/bc84c9f438ba551b","status":"passed","time":{"start":1690185891486,"stop":1690185891905,"duration":419}},{"uid":"4033d2118e2444cb","reportUrl":"https://novasamatech.github.io/test-runner/3444//#testresult/4033d2118e2444cb","status":"passed","time":{"start":1690171445899,"stop":1690171446332,"duration":433}}]},"tags":[]},"source":"6c9c4708f67e525a.json","parameterValues":["{'url': 'wss://para.f3joule.space', 'name': 'Subsocial'}"]}
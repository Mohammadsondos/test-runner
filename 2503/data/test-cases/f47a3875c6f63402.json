{"uid":"f47a3875c6f63402","name":"test_can_create_connection[Test for Crust Shadow, url: wss://rpc-shadow.crust.network/]","fullName":"tests.test_nodes_availability#test_can_create_connection","historyId":"12839a5bf8134796f26f69e028430511","time":{"start":1676923470966,"stop":1676923471507,"duration":541},"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","statusTrace":"data = {'name': 'Crust Shadow', 'url': 'wss://rpc-shadow.crust.network/'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(chains), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses=SUCCESS_STATUSES):\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n>           raise WebSocketBadStatusException(\"Handshake status %d %s\", status, status_message, resp_headers)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:147: WebSocketBadStatusException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","statusTrace":"data = {'name': 'Crust Shadow', 'url': 'wss://rpc-shadow.crust.network/'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(chains), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses=SUCCESS_STATUSES):\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n>           raise WebSocketBadStatusException(\"Handshake status %d %s\", status, status_message, resp_headers)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:147: WebSocketBadStatusException","steps":[],"attachments":[{"uid":"d1d20ea6cb2b2e7a","name":"stdout","source":"d1d20ea6cb2b2e7a.txt","type":"text/plain","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_nodes_availability"},{"name":"host","value":"fv-az343-573"},{"name":"thread","value":"1775-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_nodes_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'url': 'wss://rpc-shadow.crust.network/', 'name': 'Crust Shadow'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7a57f70e1d353a67","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676923460342,"stop":1676923460883,"duration":541}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":71,"skipped":0,"passed":669,"unknown":0,"total":740},"items":[{"uid":"e87740c55a9e571b","reportUrl":"https://nova-wallet.github.io/test-runner/2502//#testresult/e87740c55a9e571b","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676909086697,"stop":1676909087372,"duration":675}},{"uid":"9c1c9b4e33b19ad2","reportUrl":"https://nova-wallet.github.io/test-runner/2501//#testresult/9c1c9b4e33b19ad2","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676894758689,"stop":1676894759225,"duration":536}},{"uid":"52a6f10d883db81f","reportUrl":"https://nova-wallet.github.io/test-runner/2500//#testresult/52a6f10d883db81f","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676880305391,"stop":1676880306069,"duration":678}},{"uid":"aa1cb10e9227bb8c","reportUrl":"https://nova-wallet.github.io/test-runner/2499//#testresult/aa1cb10e9227bb8c","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676877251456,"stop":1676877252114,"duration":658}},{"uid":"8accc53080e9a5e3","reportUrl":"https://nova-wallet.github.io/test-runner/2493//#testresult/8accc53080e9a5e3","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676865873019,"stop":1676865873557,"duration":538}},{"uid":"cb21287ae2faead0","reportUrl":"https://nova-wallet.github.io/test-runner/2492//#testresult/cb21287ae2faead0","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676852160854,"stop":1676852161553,"duration":699}},{"uid":"b784eba5c3f59916","reportUrl":"https://nova-wallet.github.io/test-runner/2491//#testresult/b784eba5c3f59916","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway","time":{"start":1676837052597,"stop":1676837053129,"duration":532}},{"uid":"c5a6e90766e5abdb","reportUrl":"https://nova-wallet.github.io/test-runner/2490//#testresult/c5a6e90766e5abdb","status":"broken","statusDetails":"ConnectionRefusedError: [Errno 111] Connection refused","time":{"start":1676822807387,"stop":1676822807583,"duration":196}},{"uid":"d5f5c8a2d6af3738","reportUrl":"https://nova-wallet.github.io/test-runner/2489//#testresult/d5f5c8a2d6af3738","status":"passed","time":{"start":1676808295190,"stop":1676808295930,"duration":740}},{"uid":"9e9c25ff6df3aa33","reportUrl":"https://nova-wallet.github.io/test-runner/2488//#testresult/9e9c25ff6df3aa33","status":"passed","time":{"start":1676793854707,"stop":1676793855426,"duration":719}},{"uid":"460a763c4b6270a1","reportUrl":"https://nova-wallet.github.io/test-runner/2487//#testresult/460a763c4b6270a1","status":"passed","time":{"start":1676779455565,"stop":1676779456288,"duration":723}},{"uid":"4349fffb154ceb70","reportUrl":"https://nova-wallet.github.io/test-runner/2485//#testresult/4349fffb154ceb70","status":"passed","time":{"start":1676750642756,"stop":1676750643653,"duration":897}},{"uid":"b50d8420741f5d43","reportUrl":"https://nova-wallet.github.io/test-runner/2484//#testresult/b50d8420741f5d43","status":"passed","time":{"start":1676736256093,"stop":1676736256830,"duration":737}},{"uid":"1072ce08e586d2eb","reportUrl":"https://nova-wallet.github.io/test-runner/2483//#testresult/1072ce08e586d2eb","status":"passed","time":{"start":1676721878825,"stop":1676721879784,"duration":959}},{"uid":"3de682005c15064b","reportUrl":"https://nova-wallet.github.io/test-runner/2482//#testresult/3de682005c15064b","status":"passed","time":{"start":1676707465639,"stop":1676707466487,"duration":848}},{"uid":"5969692565a3f5c7","reportUrl":"https://nova-wallet.github.io/test-runner/2480//#testresult/5969692565a3f5c7","status":"passed","time":{"start":1676679255800,"stop":1676679256523,"duration":723}},{"uid":"fad597c9ecbe45d4","reportUrl":"https://nova-wallet.github.io/test-runner/2479//#testresult/fad597c9ecbe45d4","status":"passed","time":{"start":1676664236891,"stop":1676664237796,"duration":905}},{"uid":"9fcae54d59eba465","reportUrl":"https://nova-wallet.github.io/test-runner/2478//#testresult/9fcae54d59eba465","status":"passed","time":{"start":1676649867268,"stop":1676649868002,"duration":734}},{"uid":"a3004bf1266b5f43","reportUrl":"https://nova-wallet.github.io/test-runner/2477//#testresult/a3004bf1266b5f43","status":"passed","time":{"start":1676635524836,"stop":1676635525690,"duration":854}},{"uid":"5378802602b50f86","reportUrl":"https://nova-wallet.github.io/test-runner/2476//#testresult/5378802602b50f86","status":"passed","time":{"start":1676621067319,"stop":1676621068243,"duration":924}}]},"tags":[]},"source":"f47a3875c6f63402.json","parameterValues":["{'url': 'wss://rpc-shadow.crust.network/', 'name': 'Crust Shadow'}"]}
{"uid":"dd9bcb68b64e5544","name":"test_can_create_connection[Test for Khala, url: wss://khala-api.phala.network/ws]","fullName":"tests.test_nodes_availability#test_can_create_connection","historyId":"b9ef5d231f3ccda572f27ab1ee01534b","time":{"start":1666743437342,"stop":1666743437778,"duration":436},"status":"broken","statusMessage":"ValueError: scheme https is invalid","statusTrace":"data = {'name': 'Khala', 'url': 'wss://khala-api.phala.network/ws'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(chains), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/create_type_file.py:231: in create_connection_by_url\n    substrate = SubstrateInterface(url=url, use_remote_preset=True)\n../../../../.local/lib/python3.8/site-packages/substrateinterface/base.py:550: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.8/site-packages/substrateinterface/base.py:588: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.8/site-packages/websocket/_core.py:605: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.8/site-packages/websocket/_core.py:255: in connect\n    self.sock, addrs = connect(url, self.sock_opt, proxy_info(**options),\n../../../../.local/lib/python3.8/site-packages/websocket/_http.py:117: in connect\n    hostname, port_from_url, resource, is_secure = parse_url(url)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nurl = '//khala-api.phala.network/ws'\n\n    def parse_url(url):\n        \"\"\"\n        parse url and the result is tuple of\n        (hostname, port, resource path and the flag of secure mode)\n    \n        Parameters\n        ----------\n        url: str\n            url string.\n        \"\"\"\n        if \":\" not in url:\n            raise ValueError(\"url is invalid\")\n    \n        scheme, url = url.split(\":\", 1)\n    \n        parsed = urlparse(url, scheme=\"http\")\n        if parsed.hostname:\n            hostname = parsed.hostname\n        else:\n            raise ValueError(\"hostname is invalid\")\n        port = 0\n        if parsed.port:\n            port = parsed.port\n    \n        is_secure = False\n        if scheme == \"ws\":\n            if not port:\n                port = 80\n        elif scheme == \"wss\":\n            is_secure = True\n            if not port:\n                port = 443\n        else:\n>           raise ValueError(\"scheme %s is invalid\" % scheme)\nE           ValueError: scheme https is invalid\n\n../../../../.local/lib/python3.8/site-packages/websocket/_url.py:62: ValueError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_nodes_availability"},{"name":"host","value":"fv-az626-883"},{"name":"thread","value":"1658-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_nodes_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'url': 'wss://khala-api.phala.network/ws', 'name': 'Khala'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9863fc1193ea8dd9","status":"broken","statusDetails":"ValueError: scheme https is invalid","time":{"start":1666743426700,"stop":1666743427215,"duration":515}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":100,"unknown":0,"total":101},"items":[{"uid":"bdc4dadd91d5b91c","reportUrl":"https://nova-wallet.github.io/test-runner/1778//#testresult/bdc4dadd91d5b91c","status":"passed","time":{"start":1666728328076,"stop":1666728328996,"duration":920}},{"uid":"f2baebee038b12b9","reportUrl":"https://nova-wallet.github.io/test-runner/1777//#testresult/f2baebee038b12b9","status":"passed","time":{"start":1666714113434,"stop":1666714114395,"duration":961}},{"uid":"3c2b67091c2f9b0a","reportUrl":"https://nova-wallet.github.io/test-runner/1776//#testresult/3c2b67091c2f9b0a","status":"passed","time":{"start":1666699588665,"stop":1666699589562,"duration":897}},{"uid":"365c85d230ee3cc4","reportUrl":"https://nova-wallet.github.io/test-runner/1775//#testresult/365c85d230ee3cc4","status":"passed","time":{"start":1666685324720,"stop":1666685325641,"duration":921}},{"uid":"22b495d5c872ac0c","reportUrl":"https://nova-wallet.github.io/test-runner/1774//#testresult/22b495d5c872ac0c","status":"passed","time":{"start":1666672899843,"stop":1666672900744,"duration":901}},{"uid":"320bd8f0d82dd17","reportUrl":"https://nova-wallet.github.io/test-runner/1773//#testresult/320bd8f0d82dd17","status":"passed","time":{"start":1666657530576,"stop":1666657531512,"duration":936}},{"uid":"31436b9d0ac6c3b4","reportUrl":"https://nova-wallet.github.io/test-runner/1772//#testresult/31436b9d0ac6c3b4","status":"passed","time":{"start":1666641857568,"stop":1666641858484,"duration":916}},{"uid":"773a355cd37675c5","reportUrl":"https://nova-wallet.github.io/test-runner/1771//#testresult/773a355cd37675c5","status":"passed","time":{"start":1666627645923,"stop":1666627646817,"duration":894}},{"uid":"c8db415e609103da","reportUrl":"https://nova-wallet.github.io/test-runner/1770//#testresult/c8db415e609103da","status":"passed","time":{"start":1666613193618,"stop":1666613194537,"duration":919}},{"uid":"89e6f1923fd7db06","reportUrl":"https://nova-wallet.github.io/test-runner/1769//#testresult/89e6f1923fd7db06","status":"passed","time":{"start":1666599054670,"stop":1666599055568,"duration":898}},{"uid":"9fa58bc4b964e14d","reportUrl":"https://nova-wallet.github.io/test-runner/1768//#testresult/9fa58bc4b964e14d","status":"passed","time":{"start":1666586640785,"stop":1666586641678,"duration":893}},{"uid":"1057b3708819bed3","reportUrl":"https://nova-wallet.github.io/test-runner/1767//#testresult/1057b3708819bed3","status":"passed","time":{"start":1666570967843,"stop":1666570968805,"duration":962}},{"uid":"797f00265a102c5","reportUrl":"https://nova-wallet.github.io/test-runner/1766//#testresult/797f00265a102c5","status":"passed","time":{"start":1666555434930,"stop":1666555435974,"duration":1044}},{"uid":"c9f31d2dc585729","reportUrl":"https://nova-wallet.github.io/test-runner/1765//#testresult/c9f31d2dc585729","status":"passed","time":{"start":1666541090519,"stop":1666541091427,"duration":908}},{"uid":"690b4c610eff173b","reportUrl":"https://nova-wallet.github.io/test-runner/1764//#testresult/690b4c610eff173b","status":"passed","time":{"start":1666526746761,"stop":1666526747674,"duration":913}},{"uid":"165f6ed676471fd0","reportUrl":"https://nova-wallet.github.io/test-runner/1763//#testresult/165f6ed676471fd0","status":"passed","time":{"start":1666512276977,"stop":1666512277909,"duration":932}},{"uid":"3f3003531cb656e9","reportUrl":"https://nova-wallet.github.io/test-runner/1762//#testresult/3f3003531cb656e9","status":"passed","time":{"start":1666499485290,"stop":1666499486250,"duration":960}},{"uid":"2ae751db1af81ea7","reportUrl":"https://nova-wallet.github.io/test-runner/1761//#testresult/2ae751db1af81ea7","status":"passed","time":{"start":1666484579998,"stop":1666484581041,"duration":1043}},{"uid":"cdb853bbaeff364b","reportUrl":"https://nova-wallet.github.io/test-runner/1760//#testresult/cdb853bbaeff364b","status":"passed","time":{"start":1666469043886,"stop":1666469044903,"duration":1017}},{"uid":"1e32a5388844b10e","reportUrl":"https://nova-wallet.github.io/test-runner/1759//#testresult/1e32a5388844b10e","status":"passed","time":{"start":1666454680728,"stop":1666454681677,"duration":949}}]},"tags":[]},"source":"dd9bcb68b64e5544.json","parameterValues":["{'url': 'wss://khala-api.phala.network/ws', 'name': 'Khala'}"]}
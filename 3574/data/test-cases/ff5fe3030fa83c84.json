{"uid":"ff5fe3030fa83c84","name":"test_can_create_connection[Test for Ajuna, url: wss://ajuna.public.curie.radiumblock.co/ws]","fullName":"tests.test_nodes_availability#test_can_create_connection","historyId":"2e3abbc0bdbc8c041f8cf28e056994d9","time":{"start":1692000297728,"stop":1692000298280,"duration":552},"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:58 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=ZQSlDeQvnO%2F0QSQwQGE4qF688OCoa54LM644cA8TZn%2BQvHlkxI36imYiHlBz3h%2BTtosxcdVM7iuT4Rhs%2B7Z86%2B8MeoP3jIsixsRBpOIig%2FpW1Kqvtqns2%2Bkau9Avq8sBRioPjKDQBOem0hAVOGyYJlx2XA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67b0a4df715b6a-IAD'} -+-+- b'Error while proxying to origin.\\n'","statusTrace":"data = {'name': 'Ajuna', 'url': 'wss://ajuna.public.curie.radiumblock.co/ws'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(get_substrate_chains()), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses: tuple = SUCCESS_STATUSES) -> tuple:\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n            content_len = resp_headers.get('content-length')\n            if content_len:\n                response_body = sock.recv(int(content_len))  # read the body of the HTTP error message response and include it in the exception\n            else:\n                response_body = None\n>           raise WebSocketBadStatusException(\"Handshake status {status} {message} -+-+- {headers} -+-+- {body}\".format(status=status, message=status_message, headers=resp_headers, body=response_body), status, status_message, resp_headers, response_body)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:58 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=ZQSlDeQvnO%2F0QSQwQGE4qF688OCoa54LM644cA8TZn%2BQvHlkxI36imYiHlBz3h%2BTtosxcdVM7iuT4Rhs%2B7Z86%2B8MeoP3jIsixsRBpOIig%2FpW1Kqvtqns2%2Bkau9Avq8sBRioPjKDQBOem0hAVOGyYJlx2XA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67b0a4df715b6a-IAD'} -+-+- b'Error while proxying to origin.\\n'\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:150: WebSocketBadStatusException","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:58 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=ZQSlDeQvnO%2F0QSQwQGE4qF688OCoa54LM644cA8TZn%2BQvHlkxI36imYiHlBz3h%2BTtosxcdVM7iuT4Rhs%2B7Z86%2B8MeoP3jIsixsRBpOIig%2FpW1Kqvtqns2%2Bkau9Avq8sBRioPjKDQBOem0hAVOGyYJlx2XA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67b0a4df715b6a-IAD'} -+-+- b'Error while proxying to origin.\\n'","statusTrace":"data = {'name': 'Ajuna', 'url': 'wss://ajuna.public.curie.radiumblock.co/ws'}\n\n    @pytest.mark.parametrize(\"data\", collect_nodes_for_chains(get_substrate_chains()), ids=task_ids)\n    def test_can_create_connection(data):\n    \n>       connectin = create_connection_by_url(data[\"url\"])\n\ntests/test_nodes_availability.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nscripts/utils/substrate_interface.py:30: in create_connection_by_url\n    substrate = SubstrateInterface(\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:627: in __init__\n    self.connect_websocket()\n../../../../.local/lib/python3.10/site-packages/substrateinterface/base.py:665: in connect_websocket\n    self.websocket = create_connection(\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:608: in create_connection\n    websock.connect(url, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_core.py:253: in connect\n    self.handshake_response = handshake(self.sock, url, *addrs, **options)\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:57: in handshake\n    status, resp = _get_resp_headers(sock)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsock = <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6>\nsuccess_statuses = (<HTTPStatus.MOVED_PERMANENTLY: 301>, <HTTPStatus.FOUND: 302>, <HTTPStatus.SEE_OTHER: 303>, <HTTPStatus.SWITCHING_PROTOCOLS: 101>)\n\n    def _get_resp_headers(sock, success_statuses: tuple = SUCCESS_STATUSES) -> tuple:\n        status, resp_headers, status_message = read_headers(sock)\n        if status not in success_statuses:\n            content_len = resp_headers.get('content-length')\n            if content_len:\n                response_body = sock.recv(int(content_len))  # read the body of the HTTP error message response and include it in the exception\n            else:\n                response_body = None\n>           raise WebSocketBadStatusException(\"Handshake status {status} {message} -+-+- {headers} -+-+- {body}\".format(status=status, message=status_message, headers=resp_headers, body=response_body), status, status_message, resp_headers, response_body)\nE           websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:58 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=ZQSlDeQvnO%2F0QSQwQGE4qF688OCoa54LM644cA8TZn%2BQvHlkxI36imYiHlBz3h%2BTtosxcdVM7iuT4Rhs%2B7Z86%2B8MeoP3jIsixsRBpOIig%2FpW1Kqvtqns2%2Bkau9Avq8sBRioPjKDQBOem0hAVOGyYJlx2XA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67b0a4df715b6a-IAD'} -+-+- b'Error while proxying to origin.\\n'\n\n../../../../.local/lib/python3.10/site-packages/websocket/_handshake.py:150: WebSocketBadStatusException","steps":[],"attachments":[{"uid":"7ef1a450ba2eaad0","name":"stdout","source":"7ef1a450ba2eaad0.txt","type":"text/plain","size":2182}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_nodes_availability"},{"name":"host","value":"fv-az349-770"},{"name":"thread","value":"1985-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_nodes_availability"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'url': 'wss://ajuna.public.curie.radiumblock.co/ws', 'name': 'Ajuna'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ac9757f77c5f020","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:42 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=%2FMFANP8aJqZpmxxm%2Bmq%2BlOQuScQTOJqUcOxK5XSASdy1VlZ1JxKZ75Hdl7K%2FLgvzIzHitcLMQoYJn%2BkQjEcbH7amD4W2ABHHgK6aPoxIQIPNJ7ZLMUw8CUUTJnChuNuzV8XxhGwkov5VMO2%2FcyDiIP1aeg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67b0431c2f2078-IAD'} -+-+- b'Error while proxying to origin.\\n'","time":{"start":1692000282086,"stop":1692000282639,"duration":553}},{"uid":"aa443a03c7ef60cb","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Mon, 14 Aug 2023 08:04:26 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=7cnqWvJDR0%2FDRhiKbNDSGuln8XJ9OOEQaha9J21Y8AF51%2FntzD6hcNs4m7W4FLbEDrsPhf%2FgqTGWnrhw9hY1Xf3FjfIGL%2FLNBpFbycTbP%2FmN9%2FZDnm8jhOoYRZZLakl6KfnfDhInmATno3Qy6g9umQ5%2BVw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f67afe10b3d5b6a-IAD'} -+-+- b'Error while proxying to origin.\\n'","time":{"start":1692000266369,"stop":1692000266945,"duration":576}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":41,"skipped":0,"passed":511,"unknown":0,"total":552},"items":[{"uid":"38f208060082c012","reportUrl":"https://novasamatech.github.io/test-runner/3573//#testresult/38f208060082c012","status":"passed","time":{"start":1691985859965,"stop":1691985860710,"duration":745}},{"uid":"11cadda275a01114","reportUrl":"https://novasamatech.github.io/test-runner/3572//#testresult/11cadda275a01114","status":"passed","time":{"start":1691971945262,"stop":1691971946124,"duration":862}},{"uid":"cfb5ef092a85b94e","reportUrl":"https://novasamatech.github.io/test-runner/3571//#testresult/cfb5ef092a85b94e","status":"passed","time":{"start":1691957049645,"stop":1691957050597,"duration":952}},{"uid":"8492ea13a1912794","reportUrl":"https://novasamatech.github.io/test-runner/3570//#testresult/8492ea13a1912794","status":"passed","time":{"start":1691942650031,"stop":1691942650982,"duration":951}},{"uid":"a64bb0725f6efaa9","reportUrl":"https://novasamatech.github.io/test-runner/3569//#testresult/a64bb0725f6efaa9","status":"passed","time":{"start":1691928263256,"stop":1691928264128,"duration":872}},{"uid":"56e183a5aa6fd405","reportUrl":"https://novasamatech.github.io/test-runner/3568//#testresult/56e183a5aa6fd405","status":"passed","time":{"start":1691913851036,"stop":1691913851989,"duration":953}},{"uid":"7f28b6eab2cc31ae","reportUrl":"https://novasamatech.github.io/test-runner/3567//#testresult/7f28b6eab2cc31ae","status":"passed","time":{"start":1691899443259,"stop":1691899444104,"duration":845}},{"uid":"5f9fd7d5765dc44b","reportUrl":"https://novasamatech.github.io/test-runner/3566//#testresult/5f9fd7d5765dc44b","status":"passed","time":{"start":1691885565800,"stop":1691885566687,"duration":887}},{"uid":"1e4836570a8b5003","reportUrl":"https://novasamatech.github.io/test-runner/3565//#testresult/1e4836570a8b5003","status":"passed","time":{"start":1691870632287,"stop":1691870633155,"duration":868}},{"uid":"27955f658fd2ed3","reportUrl":"https://novasamatech.github.io/test-runner/3564//#testresult/27955f658fd2ed3","status":"passed","time":{"start":1691856247342,"stop":1691856248250,"duration":908}},{"uid":"8f3446162c037b5e","reportUrl":"https://novasamatech.github.io/test-runner/3562//#testresult/8f3446162c037b5e","status":"passed","time":{"start":1691827456361,"stop":1691827457239,"duration":878}},{"uid":"2e2e255e98b1dcaf","reportUrl":"https://novasamatech.github.io/test-runner/3563//#testresult/2e2e255e98b1dcaf","status":"passed","time":{"start":1691841864696,"stop":1691841865580,"duration":884}},{"uid":"2ba427fd6b37859","reportUrl":"https://novasamatech.github.io/test-runner/3561//#testresult/2ba427fd6b37859","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Sat, 12 Aug 2023 04:04:42 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=lLHu5NGTxZVVohyIR%2FbtybUW6JPaLcISL5tEyShguv0I9wDtF83l%2FuDabUGBwRtgbHQwOCBrD%2BqOMsolZ8INhgrReIUz%2F5zJCVyOvc9M9DWtv6%2Ft%2BjIvjqftteC9mNeYFGwLDxWakQb5NEqt9MLTHaxY%2Fg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f55d5f3bb749e76-SJC'} -+-+- b'Error while proxying to origin.\\n'","time":{"start":1691813082172,"stop":1691813082711,"duration":539}},{"uid":"ce4fb362f24e7947","reportUrl":"https://novasamatech.github.io/test-runner/3560//#testresult/ce4fb362f24e7947","status":"passed","time":{"start":1691799124929,"stop":1691799125887,"duration":958}},{"uid":"4517b3ba2ca9636f","reportUrl":"https://novasamatech.github.io/test-runner/3559//#testresult/4517b3ba2ca9636f","status":"passed","time":{"start":1691784240117,"stop":1691784240985,"duration":868}},{"uid":"f786c364f9070d79","reportUrl":"https://novasamatech.github.io/test-runner/3558//#testresult/f786c364f9070d79","status":"passed","time":{"start":1691769858587,"stop":1691769859540,"duration":953}},{"uid":"64f907497a9738be","reportUrl":"https://novasamatech.github.io/test-runner/3557//#testresult/64f907497a9738be","status":"passed","time":{"start":1691755490205,"stop":1691755491162,"duration":957}},{"uid":"818155ba7d91d8ea","reportUrl":"https://novasamatech.github.io/test-runner/3556//#testresult/818155ba7d91d8ea","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Fri, 11 Aug 2023 08:04:52 GMT', 'content-length': '32', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=i3UM99dXgVbqNPngCq2itrmxZ9E%2FBUBsWiGogUr59ED45RpbWeO2r83mC2CfU4gZBWBaylsg1tLz8ZGRMTFgWwQ8TVQpkoJaq%2BelaNAgUQvX5sO7oUBQ6FfFARQtVyL%2FDxl0ebecYTtXaQcAB6A0wP3%2BhQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f4ef85fecc83177-DFW'} -+-+- b'Error while proxying to origin.\\n'","time":{"start":1691741091790,"stop":1691741092390,"duration":600}},{"uid":"1e1f1af50b87ab95","reportUrl":"https://novasamatech.github.io/test-runner/3555//#testresult/1e1f1af50b87ab95","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Fri, 11 Aug 2023 06:24:05 GMT', 'content-type': 'text/html', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=HudIp55QoIuJzIIOHNbbDQ%2BWD%2FtEITcSGXKxNlpbGFYy7ImWFH2oZU47gUNfhHV4Uwbn7mYtaunZmNIPNHBlYKgaeZ0lhjvQaST%2F%2F6N8%2F3Trv1RKgI7RTED3hwUL5pVaJtAx3ZgNTVjtPw7f4EfZkbNdAg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f4e634749a407cc-IAD'} -+-+- None","time":{"start":1691734984819,"stop":1691735045384,"duration":60565}},{"uid":"be68ce60a2a18ea","reportUrl":"https://novasamatech.github.io/test-runner/3553//#testresult/be68ce60a2a18ea","status":"broken","statusDetails":"websocket._exceptions.WebSocketBadStatusException: Handshake status 502 Bad Gateway -+-+- {'date': 'Fri, 11 Aug 2023 06:19:59 GMT', 'content-type': 'text/html', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cf-cache-status': 'DYNAMIC', 'report-to': '{\"endpoints\":[{\"url\":\"https:\\\\/\\\\/a.nel.cloudflare.com\\\\/report\\\\/v3?s=8vwYw3HvUypew2wI8%2Fef%2Bdm%2BR6Dn1R0febr6dnr3yOTPj8Lknv1z4yd2raB5mRnQ3VRrTPmfv9JmF9s13y7jK04T4Dm3Sj%2BmLYYTxBc6CcEsSZO114WxyPNVG9XqglwMmYuOaA1jb%2Bc61Qs5cyN%2Fbd6Thg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}', 'nel': '{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}', 'server': 'cloudflare', 'cf-ray': '7f4e5d47ba642040-IAD'} -+-+- None","time":{"start":1691734739121,"stop":1691734799705,"duration":60584}}]},"tags":[]},"source":"ff5fe3030fa83c84.json","parameterValues":["{'url': 'wss://ajuna.public.curie.radiumblock.co/ws', 'name': 'Ajuna'}"]}
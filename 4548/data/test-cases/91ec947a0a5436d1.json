{"uid":"91ec947a0a5436d1","name":"test_precision[Test for Karura]","fullName":"tests.test_network_parameters.TestPrecision#test_precision","historyId":"0d2609fac167c2ab9a8a63daa5ef2268","time":{"start":1705752102068,"stop":1705752102068,"duration":0},"status":"failed","statusMessage":"Failed: Timeout 10 when initializing properties: Karura","statusTrace":"timeout = 10\nfunction = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), error_message = 'Timeout 10 when initializing properties: Karura'\n\n    def execute_with_timeout(timeout: int, function, args: tuple, error_message: str):\n        try:\n>           return func_timeout(timeout=timeout, func=function, args=args)\n\ntests/conftest.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ntimeout = 10\nfunc = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), kwargs = {}\n\n    def func_timeout(timeout, func, args=(), kwargs=None):\n        '''\n            func_timeout - Runs the given function for up to #timeout# seconds.\n    \n            Raises any exceptions #func# would raise, returns what #func# would return (unless timeout is exceeded), in which case it raises FunctionTimedOut\n    \n            @param timeout <float> - Maximum number of seconds to run #func# before terminating\n    \n            @param func <function> - The function to call\n    \n            @param args    <tuple> - Any ordered arguments to pass to the function\n    \n            @param kwargs  <dict/None> - Keyword arguments to pass to the function.\n    \n    \n            @raises - FunctionTimedOut if #timeout# is exceeded, otherwise anything #func# could raise will be raised\n    \n            If the timeout is exceeded, FunctionTimedOut will be raised within the context of the called function every two seconds until it terminates,\n            but will not block the calling thread (a new thread will be created to perform the join). If possible, you should try/except FunctionTimedOut\n            to return cleanly, but in most cases it will 'just work'.\n    \n            @return - The return value that #func# gives\n        '''\n    \n        if not kwargs:\n            kwargs = {}\n        if not args:\n            args = ()\n    \n        ret = []\n        exception = []\n        isStopped = False\n    \n        def funcwrap(args2, kwargs2):\n            try:\n                ret.append( func(*args2, **kwargs2) )\n            except FunctionTimedOut:\n                # Don't print traceback to stderr if we time out\n                pass\n            except Exception as e:\n                exc_info = sys.exc_info()\n                if isStopped is False:\n                    # Assemble the alternate traceback, excluding this function\n                    #  from the trace (by going to next frame)\n                    # Pytohn3 reads native from __traceback__,\n                    # python2 has a different form for \"raise\"\n                    e.__traceback__ = exc_info[2].tb_next\n                    exception.append( e )\n    \n        thread = StoppableThread(target=funcwrap, args=(args, kwargs))\n        thread.daemon = True\n    \n        thread.start()\n        thread.join(timeout)\n    \n        stopException = None\n        if thread.is_alive():\n            isStopped = True\n    \n            class FunctionTimedOutTempType(FunctionTimedOut):\n                def __init__(self):\n                    return FunctionTimedOut.__init__(self, '', timeout, func, args, kwargs)\n    \n            FunctionTimedOutTemp = type('FunctionTimedOut' + str( hash( \"%d_%d_%d_%d\" %(id(timeout), id(func), id(args), id(kwargs))) ), FunctionTimedOutTempType.__bases__, dict(FunctionTimedOutTempType.__dict__))\n    \n            stopException = FunctionTimedOutTemp\n            thread._stopThread(stopException)\n            thread.join(min(.1, timeout / 50.0))\n>           raise FunctionTimedOut('', timeout, func, args, kwargs)\nE           func_timeout.exceptions.FunctionTimedOut: Function init_properties (args=()) (kwargs={}) timed out after 10.000000 seconds.\n\n.venv/lib/python3.10/site-packages/func_timeout/dafunc.py:101: FunctionTimedOut\n\nDuring handling of the above exception, another exception occurred:\n\nrequest = <SubRequest 'chain_model' for <Function test_precision[Test for Karura]>>\n\n    @pytest.fixture(scope=\"module\", params=get_substrate_chains(), ids=chain_names)\n    def chain_model(request) -> Chain:\n        chain = request.param\n        execute_with_timeout(\n            timeout=FIXTURE_TIMEOUT,\n            function=chain.create_connection,\n            args=(),\n            error_message=f'Timeout {FIXTURE_TIMEOUT} when creating connection: {chain.name}'\n        )\n>       execute_with_timeout(\n            timeout=FIXTURE_TIMEOUT,\n            function=chain.init_properties,\n            args=(),\n            error_message=f'Timeout {FIXTURE_TIMEOUT} when initializing properties: {chain.name}'\n        )\n\ntests/conftest.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ntimeout = 10\nfunction = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), error_message = 'Timeout 10 when initializing properties: Karura'\n\n    def execute_with_timeout(timeout: int, function, args: tuple, error_message: str):\n        try:\n            return func_timeout(timeout=timeout, func=function, args=args)\n        except FunctionTimedOut:\n>           pytest.fail(msg=error_message)\nE           Failed: Timeout 10 when initializing properties: Karura\n\ntests/conftest.py:24: Failed","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"chain_model","time":{"start":1705752091489,"stop":1705752091736,"duration":247},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'get_constant'\n","statusTrace":"  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 52, in chain_model\n    execute_with_timeout(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 22, in execute_with_timeout\n    return func_timeout(timeout=timeout, func=function, args=args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/dafunc.py\", line 108, in func_timeout\n    raise_exception(exception)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/py3_raise.py\", line 7, in raise_exception\n    raise exception[0] from None\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/chain_model.py\", line 44, in init_properties\n    self.properties = get_properties(self.substrate)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/metadata_interaction.py\", line 68, in get_properties\n    substrate.get_constant('system', 'ss58Prefix')\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"chain_model","time":{"start":1705752096811,"stop":1705752097043,"duration":232},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'get_constant'\n","statusTrace":"  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 52, in chain_model\n    execute_with_timeout(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 22, in execute_with_timeout\n    return func_timeout(timeout=timeout, func=function, args=args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/dafunc.py\", line 108, in func_timeout\n    raise_exception(exception)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/func_timeout/py3_raise.py\", line 7, in raise_exception\n    raise exception[0] from None\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/chain_model.py\", line 44, in init_properties\n    self.properties = get_properties(self.substrate)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/scripts/utils/metadata_interaction.py\", line 68, in get_properties\n    substrate.get_constant('system', 'ss58Prefix')\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"chain_model","time":{"start":1705752102069,"stop":1705752112613,"duration":10544},"status":"failed","statusMessage":"Failed: Timeout 10 when initializing properties: Karura\n","statusTrace":"  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/fixtures.py\", line 907, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 52, in chain_model\n    execute_with_timeout(\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/tests/conftest.py\", line 24, in execute_with_timeout\n    pytest.fail(msg=error_message)\n  File \"/home/runner/work/test-runner/test-runner/nova-utils/.venv/lib/python3.10/site-packages/_pytest/outcomes.py\", line 194, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"Failed: Timeout 10 when initializing properties: Karura","statusTrace":"timeout = 10\nfunction = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), error_message = 'Timeout 10 when initializing properties: Karura'\n\n    def execute_with_timeout(timeout: int, function, args: tuple, error_message: str):\n        try:\n>           return func_timeout(timeout=timeout, func=function, args=args)\n\ntests/conftest.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ntimeout = 10\nfunc = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), kwargs = {}\n\n    def func_timeout(timeout, func, args=(), kwargs=None):\n        '''\n            func_timeout - Runs the given function for up to #timeout# seconds.\n    \n            Raises any exceptions #func# would raise, returns what #func# would return (unless timeout is exceeded), in which case it raises FunctionTimedOut\n    \n            @param timeout <float> - Maximum number of seconds to run #func# before terminating\n    \n            @param func <function> - The function to call\n    \n            @param args    <tuple> - Any ordered arguments to pass to the function\n    \n            @param kwargs  <dict/None> - Keyword arguments to pass to the function.\n    \n    \n            @raises - FunctionTimedOut if #timeout# is exceeded, otherwise anything #func# could raise will be raised\n    \n            If the timeout is exceeded, FunctionTimedOut will be raised within the context of the called function every two seconds until it terminates,\n            but will not block the calling thread (a new thread will be created to perform the join). If possible, you should try/except FunctionTimedOut\n            to return cleanly, but in most cases it will 'just work'.\n    \n            @return - The return value that #func# gives\n        '''\n    \n        if not kwargs:\n            kwargs = {}\n        if not args:\n            args = ()\n    \n        ret = []\n        exception = []\n        isStopped = False\n    \n        def funcwrap(args2, kwargs2):\n            try:\n                ret.append( func(*args2, **kwargs2) )\n            except FunctionTimedOut:\n                # Don't print traceback to stderr if we time out\n                pass\n            except Exception as e:\n                exc_info = sys.exc_info()\n                if isStopped is False:\n                    # Assemble the alternate traceback, excluding this function\n                    #  from the trace (by going to next frame)\n                    # Pytohn3 reads native from __traceback__,\n                    # python2 has a different form for \"raise\"\n                    e.__traceback__ = exc_info[2].tb_next\n                    exception.append( e )\n    \n        thread = StoppableThread(target=funcwrap, args=(args, kwargs))\n        thread.daemon = True\n    \n        thread.start()\n        thread.join(timeout)\n    \n        stopException = None\n        if thread.is_alive():\n            isStopped = True\n    \n            class FunctionTimedOutTempType(FunctionTimedOut):\n                def __init__(self):\n                    return FunctionTimedOut.__init__(self, '', timeout, func, args, kwargs)\n    \n            FunctionTimedOutTemp = type('FunctionTimedOut' + str( hash( \"%d_%d_%d_%d\" %(id(timeout), id(func), id(args), id(kwargs))) ), FunctionTimedOutTempType.__bases__, dict(FunctionTimedOutTempType.__dict__))\n    \n            stopException = FunctionTimedOutTemp\n            thread._stopThread(stopException)\n            thread.join(min(.1, timeout / 50.0))\n>           raise FunctionTimedOut('', timeout, func, args, kwargs)\nE           func_timeout.exceptions.FunctionTimedOut: Function init_properties (args=()) (kwargs={}) timed out after 10.000000 seconds.\n\n.venv/lib/python3.10/site-packages/func_timeout/dafunc.py:101: FunctionTimedOut\n\nDuring handling of the above exception, another exception occurred:\n\nrequest = <SubRequest 'chain_model' for <Function test_precision[Test for Karura]>>\n\n    @pytest.fixture(scope=\"module\", params=get_substrate_chains(), ids=chain_names)\n    def chain_model(request) -> Chain:\n        chain = request.param\n        execute_with_timeout(\n            timeout=FIXTURE_TIMEOUT,\n            function=chain.create_connection,\n            args=(),\n            error_message=f'Timeout {FIXTURE_TIMEOUT} when creating connection: {chain.name}'\n        )\n>       execute_with_timeout(\n            timeout=FIXTURE_TIMEOUT,\n            function=chain.init_properties,\n            args=(),\n            error_message=f'Timeout {FIXTURE_TIMEOUT} when initializing properties: {chain.name}'\n        )\n\ntests/conftest.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ntimeout = 10\nfunction = <bound method Chain.init_properties of <scripts.utils.chain_model.Chain object at 0x7f17fa36a560>>\nargs = (), error_message = 'Timeout 10 when initializing properties: Karura'\n\n    def execute_with_timeout(timeout: int, function, args: tuple, error_message: str):\n        try:\n            return func_timeout(timeout=timeout, func=function, args=args)\n        except FunctionTimedOut:\n>           pytest.fail(msg=error_message)\nE           Failed: Timeout 10 when initializing properties: Karura\n\ntests/conftest.py:24: Failed","steps":[],"attachments":[{"uid":"7970091cf050ba43","name":"stdout","source":"7970091cf050ba43.txt","type":"text/plain","size":476}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_network_parameters"},{"name":"subSuite","value":"TestPrecision"},{"name":"host","value":"fv-az1055-108"},{"name":"thread","value":"2140-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_network_parameters"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"chain_model","value":"<scripts.utils.chain_model.Chain object at 0x7f17fa36a560>"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8775671d9461d4b2","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'get_constant'","time":{"start":1705752096811,"stop":1705752096811,"duration":0}},{"uid":"892fc87118103435","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'get_constant'","time":{"start":1705752091488,"stop":1705752091488,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":19,"skipped":0,"passed":741,"unknown":0,"total":761},"items":[{"uid":"dead4d5d1f1e8980","reportUrl":"https://novasamatech.github.io/test-runner/4547//#testresult/dead4d5d1f1e8980","status":"passed","time":{"start":1705737676369,"stop":1705737676369,"duration":0}},{"uid":"fa432135761b1bd2","reportUrl":"https://novasamatech.github.io/test-runner/4546//#testresult/fa432135761b1bd2","status":"passed","time":{"start":1705723275616,"stop":1705723275616,"duration":0}},{"uid":"39423a667face9f7","reportUrl":"https://novasamatech.github.io/test-runner/4545//#testresult/39423a667face9f7","status":"passed","time":{"start":1705708931602,"stop":1705708931603,"duration":1}},{"uid":"26dde76218d6b16a","reportUrl":"https://novasamatech.github.io/test-runner/4544//#testresult/26dde76218d6b16a","status":"passed","time":{"start":1705694518635,"stop":1705694518635,"duration":0}},{"uid":"4219f3f451801cc3","reportUrl":"https://novasamatech.github.io/test-runner/4543//#testresult/4219f3f451801cc3","status":"passed","time":{"start":1705680126469,"stop":1705680126469,"duration":0}},{"uid":"690d9e8c07833710","reportUrl":"https://novasamatech.github.io/test-runner/4542//#testresult/690d9e8c07833710","status":"passed","time":{"start":1705665682789,"stop":1705665682789,"duration":0}},{"uid":"82358fa825f5e5f8","reportUrl":"https://novasamatech.github.io/test-runner/4541//#testresult/82358fa825f5e5f8","status":"passed","time":{"start":1705655553925,"stop":1705655553925,"duration":0}},{"uid":"dff5c21f4fa5860a","reportUrl":"https://novasamatech.github.io/test-runner/4540//#testresult/dff5c21f4fa5860a","status":"passed","time":{"start":1705651281785,"stop":1705651281785,"duration":0}},{"uid":"7b1ba61c5895c5b8","reportUrl":"https://novasamatech.github.io/test-runner/4539//#testresult/7b1ba61c5895c5b8","status":"passed","time":{"start":1705636883407,"stop":1705636883407,"duration":0}},{"uid":"3093a23b8c199a0f","reportUrl":"https://novasamatech.github.io/test-runner/4538//#testresult/3093a23b8c199a0f","status":"passed","time":{"start":1705622535763,"stop":1705622535763,"duration":0}},{"uid":"8098efdb487ddaef","reportUrl":"https://novasamatech.github.io/test-runner/4537//#testresult/8098efdb487ddaef","status":"passed","time":{"start":1705608079775,"stop":1705608079775,"duration":0}},{"uid":"7bf3dbbd27b25975","reportUrl":"https://novasamatech.github.io/test-runner/4536//#testresult/7bf3dbbd27b25975","status":"passed","time":{"start":1705593688288,"stop":1705593688288,"duration":0}},{"uid":"fdafc5b6d50896cd","reportUrl":"https://novasamatech.github.io/test-runner/4535//#testresult/fdafc5b6d50896cd","status":"passed","time":{"start":1705579292524,"stop":1705579292524,"duration":0}},{"uid":"7e50b3e47100672f","reportUrl":"https://novasamatech.github.io/test-runner/4533//#testresult/7e50b3e47100672f","status":"passed","time":{"start":1705550474701,"stop":1705550474701,"duration":0}},{"uid":"26541c9fbc1cbf38","reportUrl":"https://novasamatech.github.io/test-runner/4532//#testresult/26541c9fbc1cbf38","status":"passed","time":{"start":1705536126301,"stop":1705536126301,"duration":0}},{"uid":"f64d93c7e47b2959","reportUrl":"https://novasamatech.github.io/test-runner/4531//#testresult/f64d93c7e47b2959","status":"passed","time":{"start":1705521684307,"stop":1705521684307,"duration":0}},{"uid":"2dd24210b400d085","reportUrl":"https://novasamatech.github.io/test-runner/4530//#testresult/2dd24210b400d085","status":"passed","time":{"start":1705507284811,"stop":1705507284811,"duration":0}},{"uid":"460beab704842114","reportUrl":"https://novasamatech.github.io/test-runner/4529//#testresult/460beab704842114","status":"passed","time":{"start":1705492894652,"stop":1705492894653,"duration":1}},{"uid":"c9f61e8e7302b278","reportUrl":"https://novasamatech.github.io/test-runner/4528//#testresult/c9f61e8e7302b278","status":"passed","time":{"start":1705478479913,"stop":1705478479913,"duration":0}},{"uid":"60ea61177ee4d411","reportUrl":"https://novasamatech.github.io/test-runner/4527//#testresult/60ea61177ee4d411","status":"passed","time":{"start":1705464082113,"stop":1705464082114,"duration":1}}]},"tags":[]},"source":"91ec947a0a5436d1.json","parameterValues":["<scripts.utils.chain_model.Chain object at 0x7f17fa36a560>"]}